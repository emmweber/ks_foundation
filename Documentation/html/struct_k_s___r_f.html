<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KSFoundation: KS_RF Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="KarolinskaLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KSFoundation
   &#160;<span id="projectnumber">[Feb-2019]</span>
   </div>
   <div id="projectbrief">A platform for simpler EPIC programming on GE MR systems</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_k_s___r_f.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">KS_RF Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;KSFoundation.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aea7921a9aa2757a88e843476848ddd55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#aea7921a9aa2757a88e843476848ddd55">role</a></td></tr>
<tr class="separator:aea7921a9aa2757a88e843476848ddd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab9fec3ad0848d2dff5db7279f1a806"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#a7ab9fec3ad0848d2dff5db7279f1a806">flip</a></td></tr>
<tr class="separator:a7ab9fec3ad0848d2dff5db7279f1a806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b955cde0388e60c3ec5f602072a8e0f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#a6b955cde0388e60c3ec5f602072a8e0f">bw</a></td></tr>
<tr class="separator:a6b955cde0388e60c3ec5f602072a8e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1e81760153252b7f921b8f9118edb2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#add1e81760153252b7f921b8f9118edb2">cf_offset</a></td></tr>
<tr class="separator:add1e81760153252b7f921b8f9118edb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab508ded41392ee86a2a619d3e93d2373"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#ab508ded41392ee86a2a619d3e93d2373">amp</a></td></tr>
<tr class="separator:ab508ded41392ee86a2a619d3e93d2373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bc4afb4579b2bf18259e70175090a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#af9bc4afb4579b2bf18259e70175090a3">start2iso</a></td></tr>
<tr class="separator:af9bc4afb4579b2bf18259e70175090a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa10c3dbec21b5cc34276e741deeb97e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#afa10c3dbec21b5cc34276e741deeb97e">iso2end</a></td></tr>
<tr class="separator:afa10c3dbec21b5cc34276e741deeb97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89cc20f819623e17ac0696a6dfb2223"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#ac89cc20f819623e17ac0696a6dfb2223">iso2end_subpulse</a></td></tr>
<tr class="separator:ac89cc20f819623e17ac0696a6dfb2223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e99b5f31d2f7e896e6184a22d042e6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_k_s_foundation_8h.html#a06d5868fa630d1c05faea3350dbf045c">KS_DESCRIPTION</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#a7e99b5f31d2f7e896e6184a22d042e6f">designinfo</a></td></tr>
<tr class="separator:a7e99b5f31d2f7e896e6184a22d042e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae183c3e4095d1c6d14b3d59a0da97928"><td class="memItemLeft" align="right" valign="top">RF_PULSE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#ae183c3e4095d1c6d14b3d59a0da97928">rfpulse</a></td></tr>
<tr class="separator:ae183c3e4095d1c6d14b3d59a0da97928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9b610a78cdae3ac8ef682bd34f7e0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___w_a_v_e.html">KS_WAVE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#a2a9b610a78cdae3ac8ef682bd34f7e0d">rfwave</a></td></tr>
<tr class="separator:a2a9b610a78cdae3ac8ef682bd34f7e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa283d0a503cfda1c25da9f9b9a0d8b1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___w_a_v_e.html">KS_WAVE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#aa283d0a503cfda1c25da9f9b9a0d8b1c">omegawave</a></td></tr>
<tr class="separator:aa283d0a503cfda1c25da9f9b9a0d8b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd8b68c159a31a28e2a2ec003b593e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___w_a_v_e.html">KS_WAVE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___r_f.html#aecd8b68c159a31a28e2a2ec003b593e2">thetawave</a></td></tr>
<tr class="separator:aecd8b68c159a31a28e2a2ec003b593e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h4>Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)</h4>
<div class="image">
<img src="KS_RF.png" alt="KS_RF.png"/>
<div class="caption">
KS_RF</div></div>
<p> <br />
</p>
<p>The composite <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> sequence object holds all information necessary to create RF pulses, both real and freq/phase modulated ones. For RF pulses with slice selection, use a <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a> object instead, which contains a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object and <a class="el" href="struct_k_s___t_r_a_p.html" title="Core sequence object for making trapezoids on X,Y,Z, and OMEGA boards">KS_TRAP</a> objects. The <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object (be it standalone or a part of <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a>) needs to be set up along the lines described here</p>
<h3>RF Design</h3>
<p>Independent of the design method chosen (see below), <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> has some field members worth mentioning:</p><ul>
<li><code>.role</code>: This is a label for the <em>role</em> of the RF pulse. This information is primarily used by <a class="el" href="_k_s_foundation_8h.html#ad77a28d39f423bca930ee2f8f392de17" title="Sets up a KS_SELRF object for RF slice selection with preset gradient constraints">ks_eval_selrf()</a> to determine what gradients to apply for slice selection. Valid values for <code>.role</code> are<ul>
<li>KS_RF_ROLE_EXC (for excitation)</li>
<li>KS_RF_ROLE_REF (for refocusing)</li>
<li>KS_RF_ROLE_CHEMSAT (for fat-sat, non-slice selective)</li>
<li>KS_RF_ROLE_INV (for inversion)</li>
<li>KS_RF_ROLE_SPSAT (for spatial saturation)</li>
</ul>
</li>
<li><code>.flip</code>: The desired flip angle of the RF pulse [degrees]</li>
<li><code>.bw</code>: The bandwidth of the RF pulse [Hz]</li>
<li><code>.iso2end</code> and <code>.start2iso</code>: These fields are for convenience and easier timing calculations and are set in <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a>. The value of <code>.iso2end</code> is equal to <code>.rfpulse.isodelay</code> and refers to the time from the effective center of the RF pulse to the end. Field <code>.iso2end</code> must have a correct value before calling <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a>. The <code>.start2iso</code> field is the time from the beginning of the RF pulse to its effective center, calculated as <code>.rfwave.duration - .iso2end</code> in <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a></li>
<li><code>.cf_offset</code>: is used to change the relative center frequency for non-slice selective RFs. A typical application is non-slice selective fat saturation.</li>
<li><code>.designinfo</code>: is an optional string to keep track of useful RF design details (mostly for debugging purposes), and it is up to the user to fill this in, except for some pre-generated RF pulses available in <a class="el" href="_k_s_foundation___g_e_r_f_8h.html" title="This is an auto-generated file that contains a selection of GE RF pulses converted to KS_RF objects...">KSFoundation_GERF.h</a></li>
<li><code>.amp</code>: This field is set to 1 by <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a>, but will get a proper value after calling <a class="el" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565" title="Performs RF scaling of all RF pulses in the KS_SEQ_COLLECTION and Prescan">GEReq_eval_rfscaling()</a>. The value of <code>.amp</code> is used in the <code>@pg</code> section by <a class="el" href="_k_s_foundation_8h.html#a853cff23395e570cc88aa3405b78c3a9" title="Places a KS_RF sequence object on a board at some position in the pulse sequence">ks_pg_rf()</a> to properly amplitude scale the actual RF waveform before internally calling <a class="el" href="_k_s_foundation_8h.html#afc06ade569c7b85c1aa5026fc2e1c710" title="Places a KS_WAVE sequence object on a board at some position in the pulse sequence">ks_pg_wave()</a> using the <code>.rfwave</code> field.</li>
</ul>
<h4>Method 1: Using pre-defined <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> objects</h4>
<p>The simplest way to create a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object is to use one of the RF pulses in GE's product sequences, some of which are available in <a class="el" href="_k_s_foundation___g_e_r_f_8h.html" title="This is an auto-generated file that contains a selection of GE RF pulses converted to KS_RF objects...">KSFoundation_GERF.h</a>. To use these ready-made RF pulses, perform the following steps:</p><ol type="1">
<li>Declare a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object in the <code>@ipgexport</code> section<ul>
<li><code><a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> myrf = KS_INIT_RF;</code></li>
</ul>
</li>
<li>Assign the <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object after choosing one in <a class="el" href="_k_s_foundation___g_e_r_f_8h.html" title="This is an auto-generated file that contains a selection of GE RF pulses converted to KS_RF objects...">KSFoundation_GERF.h</a><ul>
<li>e.g. <code>myrf = exc_fse90;</code></li>
</ul>
</li>
<li>Call <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a> or <a class="el" href="_k_s_foundation_8h.html#ad77a28d39f423bca930ee2f8f392de17" title="Sets up a KS_SELRF object for RF slice selection with preset gradient constraints">ks_eval_selrf()</a> to name and initialize the RF pulse</li>
</ol>
<p>The field <code>.flip</code> can be changed anytime between <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a> and <a class="el" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565" title="Performs RF scaling of all RF pulses in the KS_SEQ_COLLECTION and Prescan">GEReq_eval_rfscaling()</a>, e.g. by setting <code>.flip = opflip</code></p>
<h4>Method 2: Creating Sinc RF pulses</h4>
<p>For small flip angles, the Fourier transform of the RF envelope is a good approximation of the final slice profile and SLR designed pulses may not be necessary. For these cases, the function <a class="el" href="_k_s_foundation_8h.html#ad09d10d506854e0913b9f1a30f6f26cc" title="Sets up a KS_RF object with a Sinc pulse shape">ks_eval_rf_sinc()</a> can be used to create a Sinc RF pulse (as a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object) with a desired bandwidth (BW), time-bandwidth-product (TBW) and window function (e.g. KS_RF_SINCWIN_HAMMING), as follows:</p><ol type="1">
<li>Declare a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object in the <code>@ipgexport</code> section<ul>
<li><code><a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> mysincrf = KS_INIT_RF;</code></li>
</ul>
</li>
<li>Call <a class="el" href="_k_s_foundation_8h.html#ad09d10d506854e0913b9f1a30f6f26cc" title="Sets up a KS_RF object with a Sinc pulse shape">ks_eval_rf_sinc()</a> to populate the <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object<ul>
<li>The <em>duration</em> of the RF pulse (<code>mysincrf.rfwave.duration</code>) depends on the chosen BW and TBW</li>
</ul>
</li>
<li>Assign the <em>role</em> of the RF pulse<ul>
<li><code>mysincrf.role = KS_RF_ROLE_EXC; // or KS_RF_ROLE_REF, KS_RF_ROLE_INV, KS_RF_ROLE_CHEMSAT</code></li>
</ul>
</li>
</ol>
<p>Note that in most scenarios a <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a> is used instead of a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a>, as Sinc RFs are typically used with slice selection. Hence, in practice, a <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a> should be declared, and the above procedure should be applied to the <code>.rf</code> field (of type <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a>) in the <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a> object.</p>
<h4>Method 3: Creating custom RF pulses</h4>
<p>Another method is to copy a waveform designed elsewhere into the <code>.rfwave</code> (<a class="el" href="struct_k_s___w_a_v_e.html" title="Core sequence object making arbitrary waveforms on any board (using float data format)">KS_WAVE</a>) field of the <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object. This can be done from either memory (<a class="el" href="_k_s_foundation_8h.html#a3369441b24c1df15ba2193aae29d3e11" title="Sets up a KS_WAVE object based on a waveform (KS_WAVEFORM) in memory">ks_eval_wave()</a>) or disk (<a class="el" href="_k_s_foundation_8h.html#aaf06af6c18f52a777919eaef76d6c617" title="Sets up a KS_WAVE object based on a waveform that resides on disk">ks_eval_wave_file()</a>).</p>
<p>Assuming we have an RF envelope in some float array <code>myexternalrfwave[]</code>, the following steps are performed:</p><ol type="1">
<li>Declare a <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object in the <code>@ipgexport</code> section<ul>
<li><code><a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> mycustomrf = KS_INIT_RF;</code></li>
</ul>
</li>
<li>Call <a class="el" href="_k_s_foundation_8h.html#a3369441b24c1df15ba2193aae29d3e11" title="Sets up a KS_WAVE object based on a waveform (KS_WAVEFORM) in memory">ks_eval_wave()</a> as <code>ks_eval_wave(&amp;mycustomrf.rfwave, "", res, duration, myexternalrfwave);</code><ul>
<li>If the RF pulse should use a THETA or OMEGA waveform, do the same procedure for the fields <code>.thetawave</code> and/or <code>.omegawave</code></li>
<li><em>res</em> should be number of elements in <em>myexternalrfwave</em></li>
<li><em>duration</em> (in [us]) must be an integer multiple (&gt;= 2x) of <em>res</em></li>
</ul>
</li>
<li>Assign the following fields manually:<ul>
<li><code>.role</code></li>
<li><code>.flip</code> [degrees] (will also be the nominal flip angle)</li>
<li><code>.bw</code> [Hz]</li>
<li><code>.iso2end</code> [us] (the time from effective center of the RF pulse to the end)</li>
</ul>
</li>
<li>Call <a class="el" href="_k_s_foundation_8h.html#a380824e8f0a73be90f4f4afa69d1d07e" title="Sets up the RF_PULSE structure of a KS_RF object">ks_eval_rfstat()</a> to populate the RF_PULSE struct (<code>mycustomrf.rfpulse</code>) that is needed for RF scaling and SAR calculations<ul>
<li>Note that <a class="el" href="_k_s_foundation_8h.html#a380824e8f0a73be90f4f4afa69d1d07e" title="Sets up the RF_PULSE structure of a KS_RF object">ks_eval_rfstat()</a> only works for real RF pulses (without THETA or OMEGA waveforms). For complex RF pulses, the <code>.rfpulse</code> struct needs to be set up manually</li>
</ul>
</li>
<li>Call <a class="el" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91" title="Sets up a KS_RF object">ks_eval_rf()</a> or <a class="el" href="_k_s_foundation_8h.html#ad77a28d39f423bca930ee2f8f392de17" title="Sets up a KS_SELRF object for RF slice selection with preset gradient constraints">ks_eval_selrf()</a> to name and initialize the RF pulse, and to let the <a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html" title="A multi-purpose controller struct for each sequence module to facilitate RF scaling, SAR calculations, sequence duration and sequence switching">KS_SEQ_CONTROL</a> struct link to it for later RF scaling in <a class="el" href="_k_s_foundation_8h.html#ab4c6e9f82b55a3db56765fc22f21b7b5" title="Returns the time required to play out a certain number of sequence modules over some interval...">ks_eval_gradrflimits()</a></li>
</ol>
<h3>Automatic RF scaling and SAR calculations (for sequences written entirely using KSFoundation)</h3>
<p>First make sure there is a separate <em>sequence making function</em> in the <code>@pg</code> section that holds all function calls to the various <code>ks_pg_***()</code> functions building up the sequence. E.g. there is a <a class="el" href="ksfse__implementation_8e.html#a2ab0a2b60d7dd15cb9a2c3c62ee2bbfd" title="The ksfse (main) pulse sequence">ksfse_pg()</a> function in <a class="el" href="ksfse_8e.html" title="This file contains the overall structure for the ksfse psd. ">ksfse.e</a>.</p><ul>
<li>It is crucial that this function, only when called on HOST at the end of the function, sets <code>seqctrl.min_duration</code> to a value corresponding to the number of us to the end of the sequence module (see example below).</li>
<li>As this <em>sequence making function</em> is to be played out in both <code><a class="el" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval()</a></code> (on HOST) and in <code><a class="el" href="ksepi_8e.html#a9229731c099971b90dbf7721bad586a9">pulsegen()</a></code> in the <code>@pg</code> section (on TGT), UsePgenOnHost() must be set in the Imakefile</li>
<li>Multiple sequence modules (such as main sequence, FatSat, Inversion etc.), each with its own <a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html" title="A multi-purpose controller struct for each sequence module to facilitate RF scaling, SAR calculations, sequence duration and sequence switching">KS_SEQ_CONTROL</a> handle and sequence making function, are added to one common <a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a> for all sequence modules involved. This <a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a> struct is passed both to RF scaling (<a class="el" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565" title="Performs RF scaling of all RF pulses in the KS_SEQ_COLLECTION and Prescan">GEReq_eval_rfscaling()</a>) and SAR handling (<a class="el" href="_g_e_required_8e.html#a027161dabe834c55750bd1e7f2fa8473" title="Runs the slice loop and validates TR and SAR/hardware limits">GEReq_eval_checkTR_SAR()</a>, which calls <a class="el" href="_k_s_foundation_8h.html#ab4c6e9f82b55a3db56765fc22f21b7b5" title="Returns the time required to play out a certain number of sequence modules over some interval...">ks_eval_gradrflimits()</a>) routines.</li>
<li>Please see <a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a> for more information on the order of events necessary in <code><a class="el" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval()</a></code> to perform RF scaling and SAR handling. **</li>
</ul>
<h3>Example for a pulse sequence entirely written in KSFoundation</h3>
<div class="fragment"><div class="line">@ipgexport (HOST)</div><div class="line"><a class="code" href="struct_k_s___r_f.html">KS_RF</a> myfatsat = <a class="code" href="_k_s_foundation_8h.html#afc1615558f21efc6020df64ade026467">KS_INIT_RF</a>;</div><div class="line"><a class="code" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html">KS_SEQ_CONTROL</a> seqctrl;</div><div class="line"></div><div class="line">@host</div><div class="line"></div><div class="line"><a class="code" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval</a>() {</div><div class="line">  <a class="code" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html">KS_SEQ_COLLECTION</a> <a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>;</div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a343ddedf4a968d5b4c8d4a17adf95125">ks_init_seqcollection</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (<a class="code" href="_k_s_foundation__common_8c.html#a08b87aaf68a5eef056188032b386db46">cffield</a> == 30000)</div><div class="line">    myfatsat = <a class="code" href="_k_s_foundation___g_e_r_f_8h.html#a42f62ebd9f7061bf17857772bfa35f55">chemsat_cs3t</a>; <span class="comment">// chemsat_cs3t is a const KS_RF declared in KSFoundation_GERF.h</span></div><div class="line">  <span class="keywordflow">else</span></div><div class="line">    myfatsat = <a class="code" href="_k_s_foundation___g_e_r_f_8h.html#a441e9b381286b2a9f6dc62f6f2989323">chemsat_csm</a>; <span class="comment">// chemsat_csm is a const KS_RF declared in KSFoundation_GERF.h</span></div><div class="line"></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a187dd827bc0f2be7f9a00f20802fca91">ks_eval_rf</a>(&amp;myfatsat, <span class="stringliteral">&quot;myfatsat&quot;</span>);</div><div class="line"></div><div class="line">  mypsd_pg(); <span class="comment">// at the end of mypsd_pg(), seqctrl.min_duration needs to be set to the absolute end time in [us] of this sequence (module)</span></div><div class="line"></div><div class="line">  <span class="comment">// add this sequence module to the sequence collection</span></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a9c627057bb753177d7b74e5cd9ba1a46">ks_eval_addtoseqcollection</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, &amp;seqctrl);</div><div class="line"></div><div class="line">  <span class="comment">// perform RF scaling using all sequence modules to be used (e.g. main sequence, FatSat, Inversion etc.)</span></div><div class="line">  <a class="code" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565">GEReq_eval_rfscaling</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>);</div><div class="line"></div><div class="line">  <span class="comment">// TR timing, slice ordering and SAR calcs, in four steps.</span></div><div class="line">  <span class="comment">// Here we assume there is a wrapper function (mysliceloop_nargs(int slperpass, int nargs, void **args)) to the sequence&#39;s sliceloop function (e.g. mysliceloop()),</span></div><div class="line">  <span class="comment">// where e.g. mysliceloop_nargs(7, 0, NULL) plays out seven 2D slices and returns the slice loop duration in [us]</span></div><div class="line">  <span class="comment">// Also, it is assumed the the sliceloop function calls ks_scan_playsequence() to accumulate the time required for all its sequence modules</span></div><div class="line"></div><div class="line">  <span class="comment">// Step 1: Calculate # slices per TR and how much spare time we have within the current TR by running the slice loop</span></div><div class="line">  <span class="comment">//         Output 1: slperpass - Number of slices that fit within the selected TR (optr)</span></div><div class="line">  <span class="comment">//         Output 2: timetoadd_perTR - The necessary filling time to reach the set TR, given slperpass slices</span></div><div class="line">  <a class="code" href="_g_e_required_8e.html#a3bf65ebca3543f771e2d17799bbb0d3c">GEReq_eval_TR</a>(&amp;slperpass, &amp;timetoadd_perTR, 0, <a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, mysliceloop_nargs, 0, NULL);</div><div class="line"></div><div class="line">  <span class="comment">// Step 2: Calculate the slice plan (slice sorting over one or more passes) and passes (acqs) for normal interleaved 2D imaging</span></div><div class="line">  <span class="comment">//          ks_slice_plan is passed to GEReq_predownload_store_sliceplan() in predownload()</span></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a99557514f220cf0e97668286792e79cb">ks_calc_sliceplan</a>(&amp;<a class="code" href="_g_e_required_8e.html#ae6527c3b5637d870c648a7703c202985">ks_slice_plan</a>, exist(opslquant), slperpass);</div><div class="line"></div><div class="line">  <span class="comment">// Step 3: Spread the available `timetoadd_perTR` evenly on the main sequence module, by increasing the .duration of each slice by timetoadd_perTR/slperpass</span></div><div class="line">  seqctrl.<a class="code" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html#ac6e4b2a3cf932b33832d4e4e4e7cd0de">duration</a> = RUP_GRD(seqctrl.<a class="code" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html#ac6e4b2a3cf932b33832d4e4e4e7cd0de">duration</a> + CEIL_DIV(timetoadd_perTR, <a class="code" href="_g_e_required_8e.html#ae6527c3b5637d870c648a7703c202985">ks_slice_plan</a>.<a class="code" href="struct_k_s___s_l_i_c_e___p_l_a_n.html#a3c4ea64a2a861da12849cb565afab129">nslices_per_pass</a>));</div><div class="line"></div><div class="line">  <span class="comment">// Step 4: Check that TR is fullfilled by dryrunning the slice loop with updated seqctrl.duration fields for the sequence modules involved.</span></div><div class="line">  <span class="comment">//         Update SAR values in the UI (error will occur if the sum of sequence durations differs from optr)</span></div><div class="line">  <a class="code" href="_g_e_required_8e.html#a027161dabe834c55750bd1e7f2fa8473">GEReq_eval_checkTR_SAR</a>(<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, <a class="code" href="_g_e_required_8e.html#ae6527c3b5637d870c648a7703c202985">ks_slice_plan</a>.<a class="code" href="struct_k_s___s_l_i_c_e___p_l_a_n.html#a3c4ea64a2a861da12849cb565afab129">nslices_per_pass</a>, mysliceloop_nargs, 0, NULL);</div><div class="line"></div><div class="line">} <span class="comment">// end of cveval()</span></div><div class="line"></div><div class="line"></div><div class="line">@pg</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> mypsd_pg() {</div><div class="line">  <a class="code" href="struct_k_s___s_e_q_l_o_c.html">KS_SEQLOC</a> tmploc = <a class="code" href="_k_s_foundation_8h.html#ad01dd4f06fe226a502e872d4173ba7ae">KS_INIT_SEQLOC</a>;</div><div class="line"></div><div class="line">  tmploc.<a class="code" href="struct_k_s___s_e_q_l_o_c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> = 1ms;</div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a853cff23395e570cc88aa3405b78c3a9">ks_pg_rf</a>(&amp;myfatsat, tmploc, &amp;seqctrl); <span class="comment">// play the fat-sat RF pulse, beginning at 1ms into the sequence</span></div><div class="line"></div><div class="line">  tmploc.<a class="code" href="struct_k_s___s_e_q_l_o_c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> = 20ms;</div><div class="line">  tmploc.<a class="code" href="struct_k_s___s_e_q_l_o_c.html#a606fbf556e8a297aa1f68b098f6ac2a2">ampscale</a> = 0.5;</div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a853cff23395e570cc88aa3405b78c3a9">ks_pg_rf</a>(&amp;myfatsat, tmploc, &amp;seqctrl); <span class="comment">// contrived example where a 2nd instance of the RF pulse is played out at 20ms with half the flip angle</span></div><div class="line"></div><div class="line">  tmploc.<a class="code" href="struct_k_s___s_e_q_l_o_c.html#a1910d262855b71da353ed0d07a6c7823">pos</a> += myfatsat.<a class="code" href="struct_k_s___r_f.html#a2a9b610a78cdae3ac8ef682bd34f7e0d">rfwave</a>.<a class="code" href="struct_k_s___w_a_v_e.html#ac6e4b2a3cf932b33832d4e4e4e7cd0de">duration</a>; <span class="comment">// time for the end of last sequence entry</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef IPG</span></div><div class="line">    <span class="comment">// HOST only (make also sure, seqctrl.ssi_time &gt; 0 before calling this function):</span></div><div class="line">    <a class="code" href="_k_s_foundation_8h.html#a75c403072633f5a42fe364af4454b245">ks_eval_seqctrl_setminduration</a>(&amp;seqctrl, tmploc.<a class="code" href="struct_k_s___s_e_q_l_o_c.html#a1910d262855b71da353ed0d07a6c7823">pos</a>);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="ksepi_8e.html#a9229731c099971b90dbf7721bad586a9">pulsegen</a>() {</div><div class="line">   mypsd_pg();</div><div class="line">   <a class="code" href="_g_e_required_8e.html#ab1fe30ecb27b541de01992692c1e9a47">KS_SEQLENGTH</a>(seqcore, seqctrl); <span class="comment">// The only KSFoundation EPIC Macro - KS_SEQLENGTH() - which takes a KS_SEQ_CONTROL object as 2nd arg</span></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line">@rsp (TGT)</div><div class="line"><a class="code" href="ksepi_8e.html#a1669428052472d00b1c55a1291f8032f">scan</a>() {</div><div class="line">   ...for run-time amplitude modulation of the 1st instance of the RF pulse (<a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a>.e. the one at 20ms), call...</div><div class="line">   <a class="code" href="_k_s_foundation_8h.html#aefb58d645ca29e4cfa68403df396e53f">ks_scan_rf_ampscale</a>(&amp;myfatsat, 0, 0.5); <span class="comment">// reduces the 1st instance of the RF pulse by another factor of 2</span></div><div class="line"></div><div class="line">   <a class="code" href="_k_s_foundation_8h.html#a99675ab672242a3f37444f01b1246bda">ks_scan_rf_off</a>(&amp;myfatsat, 0); <span class="comment">// turn OFF the 0th instance of the RF pulse</span></div><div class="line">   <a class="code" href="_k_s_foundation_8h.html#ada6d1910f42394dc7fb363d85bd6e9c5">ks_scan_rf_on</a>(&amp;myfatsat, 0); <span class="comment">// turn ON the 0th instance of the RF pulse</span></div><div class="line">   <a class="code" href="_k_s_foundation_8h.html#aa67267b854dda4b52334ba189f876bd7">ks_scan_rf_on_chop</a>(&amp;myfatsat, 0); <span class="comment">// turn ON the 0th instance and toggle the sign of the RF pulse every time it is called</span></div><div class="line">}</div></div><!-- fragment --><h3>RF scaling when <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object(s) are added to an <em>existing standard EPIC</em> sequence</h3>
<p>When <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> objects are added to an existing GE product sequence (or any other standard EPIC sequence), RF scaling and SAR calculations are already taken care of for the non-KSFoundation RF-pulses. To include also the <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> pulses (including the <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> objects in <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a>) as a part of the main sequence's RF scaling, the following steps are needed:</p><ol type="1">
<li>Add one new <em>SLOT</em> in the <code>rfpulse[]</code> struct array for each <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> (or <a class="el" href="struct_k_s___s_e_l_r_f.html" title="Composite sequence object for slice-selective RF">KS_SELRF</a>) object by editing <code>grad_rf_&lt;psdname&gt;.h</code>. The file <code><a class="el" href="grad__rf__empty_8h.html" title="This file sets up the global rfpulse[] struct array, used for RF scaling, with KS_MAXUNIQUERF (=20) n...">grad_rf_empty.h</a></code> in the KSFoundation folder can be used as a template. This only serves a place holder to fill up space in <code>rfpulse[]</code>, and no need to edit the <code>grad_rf_&lt;psdname&gt;.h</code> further</li>
<li>Increase <code>RF_FREE1</code> (sometimes <code>RF_FREE2</code>) in <code>grad_rf_&lt;psdname&gt;.globals.h</code> and add <code>defines</code> for the new slots</li>
<li>After setting up the <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> objects using one of the methods above, make sure the <code>.rfpulse</code> field of each <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object has the fields:<ul>
<li><code>.activity = PSD_SCAN_ON</code></li>
<li><code>.num = &lt;number of instances of this <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object in the sequence&gt;</code></li>
</ul>
</li>
<li>Copy the <code>.rfpulse</code> field of each <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> object in to each corresponding <em>SLOT</em> in the <code>rfpulse[]</code> array. E.g.:<ul>
<li><code>rfpulse[MYOWNFATSAT_SLOT] = myfatsat.rfpulse;</code> where <code>MYOWNFATSAT_SLOT</code> has been defined as an available number less than RF_FREE1 in <code>grad_rf_&lt;psdname&gt;.globals.h</code> </li>
</ul>
</li>
</ol>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="aea7921a9aa2757a88e843476848ddd55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7921a9aa2757a88e843476848ddd55">&#9670;&nbsp;</a></span>role</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int role</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <b>purpose</b> of the RF pulse. Valid values: <code>KS_RF_ROLE_EXC, KS_RF_ROLE_REF, KS_RF_ROLE_CHEMSAT, KS_RF_ROLE_INV, KS_RF_ROLE_SPSAT</code> </p>

</div>
</div>
<a id="a7ab9fec3ad0848d2dff5db7279f1a806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab9fec3ad0848d2dff5db7279f1a806">&#9670;&nbsp;</a></span>flip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float flip</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The flip angle in [degrees] </p>

</div>
</div>
<a id="a6b955cde0388e60c3ec5f602072a8e0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b955cde0388e60c3ec5f602072a8e0f">&#9670;&nbsp;</a></span>bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float bw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bandwidth of the RF pulse [Hz] </p>

</div>
</div>
<a id="add1e81760153252b7f921b8f9118edb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add1e81760153252b7f921b8f9118edb2">&#9670;&nbsp;</a></span>cf_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cf_offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Center frequency offset in [Hz] for non-slice selective RF. Use e.g. 0 for water, 220 (1.5T) or 440 (3T) for fat </p>

</div>
</div>
<a id="ab508ded41392ee86a2a619d3e93d2373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab508ded41392ee86a2a619d3e93d2373">&#9670;&nbsp;</a></span>amp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float amp</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Relative amplitude, <b>not</b> in [G], set by GE's RF scaling routines using <a class="el" href="_k_s_foundation_8h.html#ab4c6e9f82b55a3db56765fc22f21b7b5" title="Returns the time required to play out a certain number of sequence modules over some interval...">ks_eval_gradrflimits()</a> </p>

</div>
</div>
<a id="af9bc4afb4579b2bf18259e70175090a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bc4afb4579b2bf18259e70175090a3">&#9670;&nbsp;</a></span>start2iso</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start2iso</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time from start of RF pulse to its magnetic center in [us] </p>

</div>
</div>
<a id="afa10c3dbec21b5cc34276e741deeb97e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa10c3dbec21b5cc34276e741deeb97e">&#9670;&nbsp;</a></span>iso2end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iso2end</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time from the magnetic center of the RF pulse to the end in [us] </p>

</div>
</div>
<a id="ac89cc20f819623e17ac0696a6dfb2223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89cc20f819623e17ac0696a6dfb2223">&#9670;&nbsp;</a></span>iso2end_subpulse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iso2end_subpulse</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time for last subpulse to end of RF waveform. Used by SPSP </p>

</div>
</div>
<a id="a7e99b5f31d2f7e896e6184a22d042e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e99b5f31d2f7e896e6184a22d042e6f">&#9670;&nbsp;</a></span>designinfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_k_s_foundation_8h.html#a06d5868fa630d1c05faea3350dbf045c">KS_DESCRIPTION</a> designinfo</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Descriptive string regarding the RF pulse design with maximum KS_DESCRIPTION_LENGTH characters </p>

</div>
</div>
<a id="ae183c3e4095d1c6d14b3d59a0da97928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae183c3e4095d1c6d14b3d59a0da97928">&#9670;&nbsp;</a></span>rfpulse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RF_PULSE rfpulse</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><em>Internal use</em> (<code>typedef struct RF_PULSE</code>) </p>

</div>
</div>
<a id="a2a9b610a78cdae3ac8ef682bd34f7e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a9b610a78cdae3ac8ef682bd34f7e0d">&#9670;&nbsp;</a></span>rfwave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___w_a_v_e.html">KS_WAVE</a> rfwave</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_k_s___w_a_v_e.html" title="Core sequence object making arbitrary waveforms on any board (using float data format)">KS_WAVE</a> object for RF. Unit: [a.u.] </p>

</div>
</div>
<a id="aa283d0a503cfda1c25da9f9b9a0d8b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa283d0a503cfda1c25da9f9b9a0d8b1c">&#9670;&nbsp;</a></span>omegawave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___w_a_v_e.html">KS_WAVE</a> omegawave</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optional <a class="el" href="struct_k_s___w_a_v_e.html" title="Core sequence object making arbitrary waveforms on any board (using float data format)">KS_WAVE</a> object for OMEGA (frequency modulation). Unit: [a.u.] </p>

</div>
</div>
<a id="aecd8b68c159a31a28e2a2ec003b593e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd8b68c159a31a28e2a2ec003b593e2">&#9670;&nbsp;</a></span>thetawave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___w_a_v_e.html">KS_WAVE</a> thetawave</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optional <a class="el" href="struct_k_s___w_a_v_e.html" title="Core sequence object making arbitrary waveforms on any board (using float data format)">KS_WAVE</a> object for THETA (phase modulation). Unit: [degrees] </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_k_s_foundation_8h.html">KSFoundation.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_k_s___r_f.html">KS_RF</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
