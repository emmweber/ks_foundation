<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KSFoundation: KS_SEQ_COLLECTION Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="KarolinskaLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KSFoundation
   &#160;<span id="projectnumber">[Feb-2019]</span>
   </div>
   <div id="projectbrief">A platform for simpler EPIC programming on GE MR systems</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">KS_SEQ_COLLECTION Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;KSFoundation.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a65c4aa433169274a52c448793e82e12e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html#a65c4aa433169274a52c448793e82e12e">numseq</a></td></tr>
<tr class="separator:a65c4aa433169274a52c448793e82e12e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea5d0cb93f22f7d0fdf804bd68c3326"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a></td></tr>
<tr class="separator:a1ea5d0cb93f22f7d0fdf804bd68c3326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa31b32f56e7b425f15f4191ef1f92be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html#aaa31b32f56e7b425f15f4191ef1f92be">evaltrdone</a></td></tr>
<tr class="separator:aaa31b32f56e7b425f15f4191ef1f92be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab39b275ee333fc1e568a0994db98d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html">KS_SEQ_CONTROL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html#a8ab39b275ee333fc1e568a0994db98d1">seqctrlptr</a> [<a class="el" href="_k_s_foundation_8h.html#a92ed0352c04ca279b44bf62d253b143a">KS_MAXUNIQUE_SEQUENCES</a>]</td></tr>
<tr class="separator:a8ab39b275ee333fc1e568a0994db98d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h4>Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling, TR timing and SAR calculations</h4>
<p>A pulse sequence consists of one or more sequence modules - one of them being the main pulse sequence, while the other ones may be add-on features like e.g. FatSat, Inversion etc. These sequence modules, each having its own <a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html" title="A multi-purpose controller struct for each sequence module to facilitate RF scaling, SAR calculations, sequence duration and sequence switching">KS_SEQ_CONTROL</a> struct, are played in <code><a class="el" href="ksepi_8e.html#a1669428052472d00b1c55a1291f8032f">scan()</a></code> according to some pattern. As a collection they produce some:</p><ul>
<li>total duration for the given number of slices</li>
<li>SAR given the various RF pulses involved in the sequence modules</li>
</ul>
<p>To perform an overarching RF scaling (accounting also for the prescan RF pulses), TR timing and SAR calculation, the collection of sequence modules (<a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a>) involved is used.</p>
<p>While the <a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html" title="A multi-purpose controller struct for each sequence module to facilitate RF scaling, SAR calculations, sequence duration and sequence switching">KS_SEQ_CONTROL</a> struct could be viewed as the administrator for <em>each</em> sequence module, there is a single <a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a> struct administrating the <em>entire</em> pulse sequence. This <a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a> handle is only needed in <code><a class="el" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval()</a></code> and is passed to <a class="el" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565" title="Performs RF scaling of all RF pulses in the KS_SEQ_COLLECTION and Prescan">GEReq_eval_rfscaling()</a>, <a class="el" href="_g_e_required_8e.html#a3bf65ebca3543f771e2d17799bbb0d3c">GEReq_eval_TR()</a>, and <a class="el" href="_g_e_required_8e.html#a027161dabe834c55750bd1e7f2fa8473" title="Runs the slice loop and validates TR and SAR/hardware limits">GEReq_eval_checkTR_SAR()</a>, which should all be called in <code><a class="el" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval()</a></code>.</p>
<p>A sequence module (<a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html" title="A multi-purpose controller struct for each sequence module to facilitate RF scaling, SAR calculations, sequence duration and sequence switching">KS_SEQ_CONTROL</a>) is added to the sequence collection (<a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a>) by calling <a class="el" href="_k_s_foundation_8h.html#a9c627057bb753177d7b74e5cd9ba1a46" title="Adds a sequence module (KS_SEQ_CONTROL) to the KS_SEQ_COLLECTION struct for later RF scaling and SAR ...">ks_eval_addtoseqcollection()</a>, but it will be added only if <code>seqctrl.duration &gt; 0</code> . Setting <em>mypluginmodule</em><code>.duration = 0</code> indicates <em>don't use</em>, and hence it will neither be a part of RF scaling or SAR calculations. Moreover, since <a class="el" href="_k_s_foundation_8h.html#a02e188307a4bd9dfdb00d37688c0487e">ks_scan_playsequence()</a> in <code><a class="el" href="ksepi_8e.html#a1669428052472d00b1c55a1291f8032f">scan()</a></code> checks if <code>seqctrl.duration = 0</code> (returns 0 duration and skips playing the module in <code><a class="el" href="ksepi_8e.html#a1669428052472d00b1c55a1291f8032f">scan()</a></code>), the TR timing follows automatically.</p>
<p>This is also analogous to how <a class="el" href="struct_k_s___t_r_a_p.html" title="Core sequence object for making trapezoids on X,Y,Z, and OMEGA boards">KS_TRAP</a>, <a class="el" href="struct_k_s___r_f.html" title="Composite sequence object for RF (with optional OMEGA &amp; THETA pulses)">KS_RF</a> and other sequence objects, on a smaller scale, are ignored by the <code>ks_pg_***()</code> functions if the <code>.duration</code> field is set to 0.</p>
<h3>Example use of <a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html" title="Collection handle of all sequence modules involved in the pulse sequence, used for RF scaling...">KS_SEQ_COLLECTION</a> with one main sequence module and one fatsat sequence module</h3>
<div class="fragment"><div class="line">@ipgexport</div><div class="line"></div><div class="line"><a class="code" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html">KS_SEQ_CONTROL</a> mymainseqctrl;</div><div class="line"><a class="code" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html">KS_SEQ_CONTROL</a> fatsatseqctrl;</div><div class="line"></div><div class="line"></div><div class="line">@host</div><div class="line"></div><div class="line"><a class="code" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval</a>() {</div><div class="line"></div><div class="line">  <span class="comment">// Collection (handle) of all sequence modules</span></div><div class="line">  <a class="code" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html">KS_SEQ_COLLECTION</a> <a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>;</div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a343ddedf4a968d5b4c8d4a17adf95125">ks_init_seqcollection</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>); <span class="comment">// Important: Reset the collection every time</span></div><div class="line"></div><div class="line"></div><div class="line">  <span class="comment">// ... set up the sequence objects in each sequence module here using ks_eval_***() functions etc. (not shown in this example) ...</span></div><div class="line"></div><div class="line"></div><div class="line">  <span class="comment">// call each &lt;seqmodule&gt;_pg() function here and make sure each seqctrl.duration field &gt; 0 for those sequence modules that should be used</span></div><div class="line">  mypsd_pg(); <span class="comment">// also updates mymainseqctrl.gradrf, mymainseqctrl.min_duration = mymainseqctrl.duration &gt; 0</span></div><div class="line">  myfatsat_pg(); <span class="comment">// some fatsat sequence module that also updates fatsatseqctrl.gradrf, fatsatseqctrl.min_duration = fatsatseqctrl.duration &gt; 0</span></div><div class="line"></div><div class="line">  <span class="comment">// Add the KS_SEQ_CONTROLs to be used to the KS_SEQ_COLLECTION</span></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a9c627057bb753177d7b74e5cd9ba1a46">ks_eval_addtoseqcollection</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, &amp;mymainseqctrl); <span class="comment">// add the main sequence to the collection (ignored if mymainseqctrl.duration = 0)</span></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a9c627057bb753177d7b74e5cd9ba1a46">ks_eval_addtoseqcollection</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, &amp;fatsatseqctrl); <span class="comment">// add the fatsat sequence module to the collection (ignored if fatsatseqctrl.duration = 0)</span></div><div class="line"></div><div class="line">  <span class="comment">// Perform the RF scaling (across all sequence modules as well as the prescan RF pulses) to get the correct actual FA</span></div><div class="line">  <a class="code" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565">GEReq_eval_rfscaling</a>(&amp;<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>);</div><div class="line"></div><div class="line">  <span class="comment">// [2D multi-slice specific] Get the number of slices per TR (slperpass) and the necessary padding time to reach the desired TR (timetoadd_perTR)</span></div><div class="line">  <span class="comment">// mysliceloop_nargs() is a slice loop wrapper function with standardized input args, passed as a function pointer to GEReq_eval_TR()</span></div><div class="line">  <span class="comment">// For more details on this function pointer, see documentation for GEReq_eval_TR() and GEReq_eval_checkTR_SAR()</span></div><div class="line">  <a class="code" href="_g_e_required_8e.html#a3bf65ebca3543f771e2d17799bbb0d3c">GEReq_eval_TR</a>(&amp;slperpass, &amp;timetoadd_perTR, 0, <a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, mysliceloop_nargs, 0, NULL);</div><div class="line"></div><div class="line">  <span class="comment">// Calculate the slice plan (slice ordering and number of passes (acqs))</span></div><div class="line">  <span class="comment">// ks_slice_plan (declared in GERequired.e) is passed to GEReq_predownload_store_sliceplan() in predownload()</span></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a99557514f220cf0e97668286792e79cb">ks_calc_sliceplan</a>(&amp;<a class="code" href="_g_e_required_8e.html#ae6527c3b5637d870c648a7703c202985">ks_slice_plan</a>, exist(opslquant), slperpass);</div><div class="line"></div><div class="line">  <span class="comment">// Spread the available timetoadd_perTR evenly, by increasing the .duration field for the main sequence by timetoadd_perTR/ks_slice_plan.nslices_per_pass</span></div><div class="line">  mymainseqctrl.duration = RUP_GRD(mymainseqctrl.duration + CEIL_DIV(timetoadd_perTR, <a class="code" href="_g_e_required_8e.html#ae6527c3b5637d870c648a7703c202985">ks_slice_plan</a>.<a class="code" href="struct_k_s___s_l_i_c_e___p_l_a_n.html#a3c4ea64a2a861da12849cb565afab129">nslices_per_pass</a>));</div><div class="line"></div><div class="line">  <span class="comment">// Check the actual TR and update SAR values in the UI (error will occur if the sum of sequence durations differs from optr)</span></div><div class="line">  <a class="code" href="_g_e_required_8e.html#a027161dabe834c55750bd1e7f2fa8473">GEReq_eval_checkTR_SAR</a>(<a class="code" href="ksepi_8e.html#ab5adb9efc118dc1cc8a0dc3c32cb73bf">seqcollection</a>, <a class="code" href="_g_e_required_8e.html#ae6527c3b5637d870c648a7703c202985">ks_slice_plan</a>.<a class="code" href="struct_k_s___s_l_i_c_e___p_l_a_n.html#a3c4ea64a2a861da12849cb565afab129">nslices_per_pass</a>, mysliceloop_nargs, 0, NULL);</div><div class="line"></div><div class="line">  <span class="comment">// Scan clock</span></div><div class="line">  pitscan = scanloop();</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">@pg</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> mypsd_pg() {</div><div class="line"></div><div class="line">  <span class="comment">// ... calls to various ks_pg_***() functions here</span></div><div class="line"></div><div class="line">  tmploc.pos += myreadout.<a class="code" href="struct_k_s___r_e_a_d_t_r_a_p.html#af33317a98ade78e3ac252b33cbb794af">grad</a>.<a class="code" href="struct_k_s___t_r_a_p.html#ac6e4b2a3cf932b33832d4e4e4e7cd0de">duration</a>; <span class="comment">// time for the end of last sequence entry (in this case the end of the readout gradient)</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef IPG // On HOST only (i.e. not IPG/TGT)</span></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a75c403072633f5a42fe364af4454b245">ks_eval_seqctrl_setminduration</a>(&amp;mymainseqctrl, tmploc.pos); <span class="comment">// sets mymainseqctrl.duration = mymainseqctrl.min_duration = tmploc.pos + mymainseqctrl.ssi_time</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><a class="code" href="ksepi_8e.html#a9229731c099971b90dbf7721bad586a9">pulsegen</a>() {</div><div class="line"></div><div class="line">   mypsd_pg();</div><div class="line">   <a class="code" href="_g_e_required_8e.html#ab1fe30ecb27b541de01992692c1e9a47">KS_SEQLENGTH</a>(seqcore, mymainseqctrl);</div><div class="line"></div><div class="line">   myfatsat_pg();</div><div class="line">   <a class="code" href="_g_e_required_8e.html#ab1fe30ecb27b541de01992692c1e9a47">KS_SEQLENGTH</a>(seqfat, fatsatseqctrl);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// play one slice loop, i.e. one TR</span></div><div class="line"><span class="keywordtype">int</span> mysliceloop(<span class="keywordtype">int</span> slperpass, <span class="keywordtype">int</span> ky) {</div><div class="line"></div><div class="line">   <span class="keywordflow">for</span> (<a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a> = 0; <a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a> &lt; slperpass; <a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a>++) {</div><div class="line"></div><div class="line">      <span class="comment">// ... do some phase encoding etc based on value of &#39;ky&#39; (not shown)...</span></div><div class="line"></div><div class="line">      time += <a class="code" href="_k_s_foundation_8h.html#a02e188307a4bd9dfdb00d37688c0487e">ks_scan_playsequence</a>(&amp;fatsatseqctrl); <span class="comment">// if fatsatseqctrl.duration &gt; 0, it plays sequence in real time (on TGT) and returns the time in [us] equal to value of fatsatseqctrl.duration</span></div><div class="line"></div><div class="line">      time += <a class="code" href="_k_s_foundation_8h.html#a02e188307a4bd9dfdb00d37688c0487e">ks_scan_playsequence</a>(&amp;mymainseqctrl); <span class="comment">// if mymainseqctrl.duration &gt; 0, it plays sequence in real time (on TGT) and returns the time in [us] equal to value of mymainseqctrl.duration</span></div><div class="line"></div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// wrapper function to sliceloop with standardized input args to be used as function pointer to GEReq_eval_TR() and GEReq_eval_checkTR_SAR()</span></div><div class="line"><span class="comment">// nargs and args aren&#39;t used in this case</span></div><div class="line"><span class="keywordtype">int</span> mysliceloop_nargs(<span class="keywordtype">int</span> slperpass, <span class="keywordtype">int</span> nargs, <span class="keywordtype">void</span> **args) {</div><div class="line"></div><div class="line">   mysliceloop(slperpass, 0);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// declare scanloop in @pg section instead of @rsp to allow it to be called on HOST too. This, to figure out how long one TR is.</span></div><div class="line"><span class="keywordtype">float</span> scanloop() {</div><div class="line">  <span class="keywordtype">float</span> time = 0.0;</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (ky = 0; ky &lt; <a class="code" href="_k_s_foundation__common_8c.html#a62476b720a40200e94668beec660cac0">opyres</a>; ky++) {</div><div class="line"></div><div class="line">    time += mysliceloop();</div><div class="line"></div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> time; <span class="comment">// return the time in [us] for the scan</span></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">@rsp</div><div class="line"></div><div class="line"><a class="code" href="ksepi_8e.html#a1669428052472d00b1c55a1291f8032f">scan</a>() {</div><div class="line"></div><div class="line">  scanloop();</div><div class="line"></div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Field Documentation</h2>
<a id="a65c4aa433169274a52c448793e82e12e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c4aa433169274a52c448793e82e12e">&#9670;&nbsp;</a></span>numseq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numseq</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of sequence modules </p>

</div>
</div>
<a id="a1ea5d0cb93f22f7d0fdf804bd68c3326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea5d0cb93f22f7d0fdf804bd68c3326">&#9670;&nbsp;</a></span>mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag to determine if new sequence modules may be added. Initialized to KS_SEQ_COLLECTION_ALLOWNEW, and set to KS_SEQ_COLLECTION_LOCKED by <a class="el" href="_g_e_required_8e.html#a3bf65ebca3543f771e2d17799bbb0d3c">GEReq_eval_TR()</a> and <a class="el" href="_g_e_required_8e.html#af06136710d55a4b8a9d63d1c676e7565" title="Performs RF scaling of all RF pulses in the KS_SEQ_COLLECTION and Prescan">GEReq_eval_rfscaling()</a> to prevent accidental adding of modules too late </p>

</div>
</div>
<a id="aaa31b32f56e7b425f15f4191ef1f92be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa31b32f56e7b425f15f4191ef1f92be">&#9670;&nbsp;</a></span>evaltrdone</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evaltrdone</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag to determine if TR timing has been done. The sequence may have more than one function that could be responsible for the TR timing, but only one should be called for any given configuration. As an example is the inversion module (<a class="el" href="_k_s_inversion_8e.html" title="This file contains an inversion preparation module that should be @inline&#39;d at the beginning of a KSF...">KSInversion.e</a>), which takes over the TR timing if the inversion flag is set </p>

</div>
</div>
<a id="a8ab39b275ee333fc1e568a0994db98d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab39b275ee333fc1e568a0994db98d1">&#9670;&nbsp;</a></span>seqctrlptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html">KS_SEQ_CONTROL</a>* seqctrlptr[<a class="el" href="_k_s_foundation_8h.html#a92ed0352c04ca279b44bf62d253b143a">KS_MAXUNIQUE_SEQUENCES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_k_s_foundation_8h.html">KSFoundation.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_k_s___s_e_q___c_o_l_l_e_c_t_i_o_n.html">KS_SEQ_COLLECTION</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
