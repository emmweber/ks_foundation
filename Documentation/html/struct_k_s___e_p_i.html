<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KSFoundation: KS_EPI Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="KarolinskaLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KSFoundation
   &#160;<span id="projectnumber">[Feb-2019]</span>
   </div>
   <div id="projectbrief">A platform for simpler EPIC programming on GE MR systems</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_k_s___e_p_i.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">KS_EPI Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;KSFoundation.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a03d42c44e323f3203fe5beabcefa47a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___r_e_a_d_t_r_a_p.html">KS_READTRAP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#a03d42c44e323f3203fe5beabcefa47a5">read</a></td></tr>
<tr class="separator:a03d42c44e323f3203fe5beabcefa47a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc81c5867684b6e31b65459ec9431269"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___t_r_a_p.html">KS_TRAP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#abc81c5867684b6e31b65459ec9431269">readphaser</a></td></tr>
<tr class="separator:abc81c5867684b6e31b65459ec9431269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0021ab8174eb7806de89d599769a9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___t_r_a_p.html">KS_TRAP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#aaa0021ab8174eb7806de89d599769a9b">blip</a></td></tr>
<tr class="separator:aaa0021ab8174eb7806de89d599769a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22cd0313e5ffabe8393f77745dba8d52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___p_h_a_s_e_r.html">KS_PHASER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#a22cd0313e5ffabe8393f77745dba8d52">blipphaser</a></td></tr>
<tr class="separator:a22cd0313e5ffabe8393f77745dba8d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76a5ac226f0d25f70349ef83b5bc38a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_k_s___p_h_a_s_e_r.html">KS_PHASER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#ad76a5ac226f0d25f70349ef83b5bc38a">zphaser</a></td></tr>
<tr class="separator:ad76a5ac226f0d25f70349ef83b5bc38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7582325a159d8ec89a4a4ba0fb89e9a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#a7582325a159d8ec89a4a4ba0fb89e9a9">etl</a></td></tr>
<tr class="separator:a7582325a159d8ec89a4a4ba0fb89e9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035bb76f8cc944eff7afd9333c2688e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#a035bb76f8cc944eff7afd9333c2688e3">read_spacing</a></td></tr>
<tr class="separator:a035bb76f8cc944eff7afd9333c2688e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e4b2a3cf932b33832d4e4e4e7cd0de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#ac6e4b2a3cf932b33832d4e4e4e7cd0de">duration</a></td></tr>
<tr class="separator:ac6e4b2a3cf932b33832d4e4e4e7cd0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29afe5800d6b5d4be29e1da24c63caf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#aa29afe5800d6b5d4be29e1da24c63caf">time2center</a></td></tr>
<tr class="separator:aa29afe5800d6b5d4be29e1da24c63caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab758140f3ca23e746a312f34a0d9c3a9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#ab758140f3ca23e746a312f34a0d9c3a9">blipoversize</a></td></tr>
<tr class="separator:ab758140f3ca23e746a312f34a0d9c3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d32a90987ac38871d307027697c90d8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_s___e_p_i.html#a0d32a90987ac38871d307027697c90d8">minbliparea</a></td></tr>
<tr class="separator:a0d32a90987ac38871d307027697c90d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h4>Composite sequence object for EPI readout</h4>
<div class="image">
<img src="KS_EPI.png" alt="KS_EPI.png"/>
<div class="caption">
KS_EPI</div></div>
<p> <br />
</p>
<p>The <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a> composite sequence object controls an entire EPI train (including de/rephasers on freq &amp; phase axes). The <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a> object consists of several fields, four of which are other sequence objects:</p><ul>
<li><a class="el" href="struct_k_s___r_e_a_d_t_r_a_p.html" title="Composite sequence object for data readout using a trapezoid gradient">KS_READTRAP</a> <code>.read</code>: The EPI readout lobes including data acquisition</li>
<li><a class="el" href="struct_k_s___t_r_a_p.html" title="Core sequence object for making trapezoids on X,Y,Z, and OMEGA boards">KS_TRAP</a> <code>.readphaser</code>: The dephaser and rephaser gradients before and after the core EPI train, on the same board as <code>.read</code></li>
<li><a class="el" href="struct_k_s___t_r_a_p.html" title="Core sequence object for making trapezoids on X,Y,Z, and OMEGA boards">KS_TRAP</a> <code>.blip</code>: The blip gradients in the phase encoding direction between the readout lobes</li>
<li><a class="el" href="struct_k_s___p_h_a_s_e_r.html" title="Composite sequence object for phase encoding using a trapezoid gradient">KS_PHASER</a> <code>.blipphaser</code>: The dephaser &amp; rephaser gradients on the same board as the <code>.blip</code> gradients. For multi-shot EPI these gradients will change in <a class="el" href="ksepi_8e.html#a1669428052472d00b1c55a1291f8032f">scan()</a> when calling <a class="el" href="_k_s_foundation_8h.html#a0d83cf730d82612a87abc0f024bea336" title="Changes the gradient state of a KS_EPI object for the given slice information">ks_scan_epi_shotcontrol()</a></li>
</ul>
<p>The <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a> object is set up in <code><a class="el" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval()</a></code> using <a class="el" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e" title="Sets up a KS_EPI composite sequence object with preset gradient constraints">ks_eval_epi()</a>, but before calling this function, portions of the <code>.read</code> field (<a class="el" href="struct_k_s___r_e_a_d_t_r_a_p.html" title="Composite sequence object for data readout using a trapezoid gradient">KS_READTRAP</a>) and <code>.blipphaser</code> field (<a class="el" href="struct_k_s___p_h_a_s_e_r.html" title="Composite sequence object for phase encoding using a trapezoid gradient">KS_PHASER</a>) must be set up. Here follows a minimal list of fields that must be set:</p><ol type="1">
<li><code>.read.fov</code>: The Field-of-View (FOV) in the frequency encoding (readout) direction</li>
<li><code>.read.res</code>: The number of pixels within the FOV along the frequency encoding direction</li>
<li><code>.blipphaser.fov</code>: The Field-of-View (FOV) in the phase encoding direction</li>
<li><code>.blipphaser.res</code>: The number of pixels within the FOV along the phase encoding direction</li>
<li><code>.blipphaser.R</code>: Either the number of EPI shots or the parallel imaging factor</li>
<li><code>.read.rampsampling</code>: Whether rampsampling should be used (see <a class="el" href="struct_k_s___r_e_a_d_t_r_a_p.html" title="Composite sequence object for data readout using a trapezoid gradient">KS_READTRAP</a>). Value of 1 is recommended for EPI</li>
<li><code>.read.acq.rbw</code>: The receiver bandwidth in [kHz/FOV]. Maximum: 250</li>
</ol>
<p>If the <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a> object is initialized with KS_INIT_EPI on declaration, <code>.read.rampsampling</code> will already be set to 1 and <code>.read.acq.rbw</code> will be set to 250.0 (hence steps 6-7 can be skipped).</p>
<p>Single-shot EPI acquisitions are geometrically distorted to some degree depending on chosen <code>.read.res</code> and <code>.blipphaser.fov</code>. To reduce the EPI distortions, either multi-shot EPI or parallel imaging acceleration can be used. For both alternatives, every Rth phase encoding line is acquired in k-space as the EPI train is played out. <em>R</em> corresponds to the number of shots (<code>opnshots</code> menu in the UI) or the parallel imaging factor. Therefore, e.g. a 4-shot EPI readout is identical to an <em>R</em> = 4 accelerated EPI readout with the same FOV and resolution, why one same field <code>.R</code> may be used to control the EPI train setup, be it multi-shot or parallel imaging acceleration (but not both at the same time). What differs between multi-shot and parallel imaging acceleration in the acquisition is only whether the <code>.blipphaser</code> should change from TR to TR. Hence, to set up a <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a> object, use the field <code>.R</code> for both multi-shot EPI and parallel imaging scenarios.</p>
<p>The remaining fields of interest in the <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a> sequence objects are:</p><ul>
<li><code>.etl</code>: This is the echo-train-length (ETL) of the EPI readout train, set by <a class="el" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e" title="Sets up a KS_EPI composite sequence object with preset gradient constraints">ks_eval_epi()</a> based on <code>.blipphaser.res</code> and <code>.blipphaser.R</code></li>
<li><code>.read_spacing</code>: Additional spacing in [us] between readout lobes. Default value is zero, but can be set &gt; 0 if additional gradients is to be inserted between the readout lobes. One scenario is adding CAIPIRINHA blips on ZGRAD during the time where the EPI readout is played out in the pulse sequence</li>
<li><code>.duration</code>: Convenience information for timing calculations, set by <a class="el" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e" title="Sets up a KS_EPI composite sequence object with preset gradient constraints">ks_eval_epi()</a>. This is the total time in [us] for the EPI train, including the dephasers and rephasers on the frequency and phase axes. Note that there are also <code>.duration</code> fields for each of the four <code>KS_***</code> sequence objects in <a class="el" href="struct_k_s___e_p_i.html" title="Composite sequence object for EPI readout">KS_EPI</a>, stating the duration of each of these components.</li>
<li><code>.time2center</code>: Convenience information for timing calculations, set by <a class="el" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e" title="Sets up a KS_EPI composite sequence object with preset gradient constraints">ks_eval_epi()</a>. The time in [us] from the start of the first dephaser until the center of k-space is reached. This deviates from <code>.duration/2</code> for partial Fourier EPI trains where <code>.blipphaser.nover &gt; 0</code> (a.k.a. fractional NEX, but typically shown as MiniumTE in the UI for EPI)</li>
</ul>
<p>It is a <em>requirement</em> that there is a (<em>sequence generating</em>) function in the <code>@pg</code> section (containing the <a class="el" href="_k_s_foundation_8h.html#a804f4f4b870338386e1dea3a877f5bd2" title="Places out a KS_EPI object (EPI train including dephaser and rephaser gradients)">ks_pg_epi()</a> call(s)) that can be run on both HOST and TGT. This function should be called exactly once in <code><a class="el" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval()</a></code> (after <a class="el" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e" title="Sets up a KS_EPI composite sequence object with preset gradient constraints">ks_eval_epi()</a> and other <code>ks_eval_***()</code> functions). <a class="el" href="_k_s_foundation_8h.html#a804f4f4b870338386e1dea3a877f5bd2" title="Places out a KS_EPI object (EPI train including dephaser and rephaser gradients)">ks_pg_epi()</a> will throw an error on TGT if this has not been done.</p>
<h3>Example</h3>
<div class="fragment"><div class="line">@ipgexport (HOST)</div><div class="line"></div><div class="line"><a class="code" href="struct_k_s___s_e_q___c_o_n_t_r_o_l.html">KS_SEQ_CONTROL</a> seqctrl;</div><div class="line"><a class="code" href="struct_k_s___e_p_i.html">KS_EPI</a> myepi = <a class="code" href="_k_s_foundation_8h.html#a3e677786bcadd601f03988f59cc20549">KS_INIT_EPI</a>;</div><div class="line"></div><div class="line"><a class="code" href="ksepi_8e.html#afc7958d04bdf5f15ffeec67d3c4c490d">cveval</a>() {</div><div class="line"></div><div class="line">  myepi.<a class="code" href="struct_k_s___e_p_i.html#a03d42c44e323f3203fe5beabcefa47a5">read</a>.<a class="code" href="struct_k_s___r_e_a_d_t_r_a_p.html#abfd94a01fc71278021802ca0d1e25e16">fov</a> = <a class="code" href="_k_s_foundation__common_8c.html#ad3c11a6737769e103948d107c1263749">opfov</a>; <span class="comment">// FOV menu in UI</span></div><div class="line">  myepi.<a class="code" href="struct_k_s___e_p_i.html#a03d42c44e323f3203fe5beabcefa47a5">read</a>.<a class="code" href="struct_k_s___r_e_a_d_t_r_a_p.html#aac31eb68bff694554a182bd796b2f1c5">res</a> = <a class="code" href="_k_s_foundation__common_8c.html#a66aaa6a3300240048d37097ded69ba53">opxres</a>; <span class="comment">// Freq res. in UI</span></div><div class="line">  myepi.<a class="code" href="struct_k_s___e_p_i.html#a22cd0313e5ffabe8393f77745dba8d52">blipphaser</a>.<a class="code" href="struct_k_s___p_h_a_s_e_r.html#abfd94a01fc71278021802ca0d1e25e16">fov</a> = <a class="code" href="_k_s_foundation__common_8c.html#ad3c11a6737769e103948d107c1263749">opfov</a>; <span class="comment">// FOV menu in UI (EPI uses typically square FOVs)</span></div><div class="line">  myepi.<a class="code" href="struct_k_s___e_p_i.html#a22cd0313e5ffabe8393f77745dba8d52">blipphaser</a>.<a class="code" href="struct_k_s___p_h_a_s_e_r.html#aac31eb68bff694554a182bd796b2f1c5">res</a> = <a class="code" href="_k_s_foundation__common_8c.html#a62476b720a40200e94668beec660cac0">opyres</a>; <span class="comment">// Phaser res. in UI</span></div><div class="line">  myepi.<a class="code" href="struct_k_s___e_p_i.html#a22cd0313e5ffabe8393f77745dba8d52">blipphaser</a>.<a class="code" href="struct_k_s___p_h_a_s_e_r.html#a3d90133d3051fbc4816d02efd9566d8e">R</a> = opnshots; <span class="comment">// Number of shots menu in UI</span></div><div class="line"></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e">ks_eval_epi</a>(&amp;myepi, <span class="stringliteral">&quot;myepi&quot;</span>, &amp;gradrfctrl); <span class="comment">// setup the KS_EPI object</span></div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">@pg</div><div class="line"></div><div class="line">  <a class="code" href="struct_k_s___s_e_q_l_o_c.html">KS_SEQLOC</a> tmploc = <a class="code" href="_k_s_foundation_8h.html#ad01dd4f06fe226a502e872d4173ba7ae">KS_INIT_SEQLOC</a>;</div><div class="line"></div><div class="line">  tmploc.pos = 25ms; <span class="comment">// start the EPI train after 25ms</span></div><div class="line">  tmploc.board = <a class="code" href="_k_s_foundation_8h.html#a5a6c30061dd7a6d943e51c3697727ba8a6016c24e63f250c7e49d537c9b01dea1">KS_FREQX_PHASEY</a>; <span class="comment">// place the EPI train with frequency encoding on XGRAD and phase encoding on YGRAD</span></div><div class="line">  tmploc.ampscale = 1.0; <span class="comment">// In ks_pg_epi(), only 1.0 and -1.0 are allowed. This controls the initial readout polarity</span></div><div class="line"></div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a804f4f4b870338386e1dea3a877f5bd2">ks_pg_epi</a>(&amp;myepi, tmploc, &amp;seqctrl);</div><div class="line"></div><div class="line"></div><div class="line">@rsp (TGT)</div><div class="line"></div><div class="line"><span class="keywordflow">for</span> (<a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a> = 0; <a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a> &lt; myepi.<a class="code" href="struct_k_s___e_p_i.html#a22cd0313e5ffabe8393f77745dba8d52">blipphaser</a>.<a class="code" href="struct_k_s___p_h_a_s_e_r.html#a3d90133d3051fbc4816d02efd9566d8e">R</a>; <a class="code" href="union_indices.html#ad9484f5522d0e5f033037c369365ec61">i</a>++) {</div><div class="line">  <a class="code" href="_k_s_foundation_8h.html#a0d83cf730d82612a87abc0f024bea336">ks_scan_epi_shotcontrol</a>(&amp;myepi,</div><div class="line">                        0, <span class="comment">// echo #, i.e. number of EPI trains</span></div><div class="line">                        scan_info[slice], <span class="comment">// mm info for current slice</span></div><div class="line">                        phaseshot, <span class="comment">// shot #. 0-&gt;(opnshots-1)</span></div><div class="line">                        <a class="code" href="_k_s_foundation_8h.html#ae3a267da7c3c7e4e6e523dafba9b7811ab36b1c8bcdbe924fc9d4a36cde9ba4dd">KS_EPI_POSBLIPS</a>); <span class="comment">// alternatively KS_EPI_NEGBLIPS (to play out negative EPI blips, with `.blipphaser` polarity automatically adjusted</span></div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Field Documentation</h2>
<a id="a03d42c44e323f3203fe5beabcefa47a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d42c44e323f3203fe5beabcefa47a5">&#9670;&nbsp;</a></span>read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___r_e_a_d_t_r_a_p.html">KS_READTRAP</a> read</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPI readout lobe (etl instances per EPI train) </p>

</div>
</div>
<a id="abc81c5867684b6e31b65459ec9431269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc81c5867684b6e31b65459ec9431269">&#9670;&nbsp;</a></span>readphaser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___t_r_a_p.html">KS_TRAP</a> readphaser</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPI read dephaser (instance #0) and read rephaser (instance #1) </p>

</div>
</div>
<a id="aaa0021ab8174eb7806de89d599769a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0021ab8174eb7806de89d599769a9b">&#9670;&nbsp;</a></span>blip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___t_r_a_p.html">KS_TRAP</a> blip</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPI blips (<code>.etl</code>-1 instances per EPI train) </p>

</div>
</div>
<a id="a22cd0313e5ffabe8393f77745dba8d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22cd0313e5ffabe8393f77745dba8d52">&#9670;&nbsp;</a></span>blipphaser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___p_h_a_s_e_r.html">KS_PHASER</a> blipphaser</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EPI blip dephaser (instance #0) and blip rephaser (instance #1) </p>

</div>
</div>
<a id="ad76a5ac226f0d25f70349ef83b5bc38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad76a5ac226f0d25f70349ef83b5bc38a">&#9670;&nbsp;</a></span>zphaser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_k_s___p_h_a_s_e_r.html">KS_PHASER</a> zphaser</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Second phase encoding (ZGRAD) field, zphaser.res &gt; 1 triggers 3D (ks_eval_epi) </p>

</div>
</div>
<a id="a7582325a159d8ec89a4a4ba0fb89e9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7582325a159d8ec89a4a4ba0fb89e9a9">&#9670;&nbsp;</a></span>etl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int etl</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Echo-Train-Length (ETL), set by <a class="el" href="_k_s_foundation_8h.html#a77fb9dea403599e8fbbf1fed426ff66e" title="Sets up a KS_EPI composite sequence object with preset gradient constraints">ks_eval_epi()</a> </p>

</div>
</div>
<a id="a035bb76f8cc944eff7afd9333c2688e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a035bb76f8cc944eff7afd9333c2688e3">&#9670;&nbsp;</a></span>read_spacing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_spacing</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>0 [default]: Optional extra spacing between readout lobes [us] </p>

</div>
</div>
<a id="ac6e4b2a3cf932b33832d4e4e4e7cd0de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e4b2a3cf932b33832d4e4e4e7cd0de">&#9670;&nbsp;</a></span>duration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int duration</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Duration of EPI train, including dephasers and rephasers [us] </p>

</div>
</div>
<a id="aa29afe5800d6b5d4be29e1da24c63caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29afe5800d6b5d4be29e1da24c63caf">&#9670;&nbsp;</a></span>time2center</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int time2center</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Time from the beginning of first EPI dephaser to the position corresponding to the center of k-space [us] </p>

</div>
</div>
<a id="ab758140f3ca23e746a312f34a0d9c3a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab758140f3ca23e746a312f34a0d9c3a9">&#9670;&nbsp;</a></span>blipoversize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float blipoversize</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>1.0 [default]: Blip widening factor to allow for oblique Nyquist ghost correction </p>

</div>
</div>
<a id="a0d32a90987ac38871d307027697c90d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d32a90987ac38871d307027697c90d8">&#9670;&nbsp;</a></span>minbliparea</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float minbliparea</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(<em>Internal use</em>) Minimum blip area until the blip needs to be widened to reduce discretization errors. If <code>.blip.area &lt; .minbliparea</code>, <code>.blipoversize</code> will be increased above 1.5 </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_k_s_foundation_8h.html">KSFoundation.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_k_s___e_p_i.html">KS_EPI</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
